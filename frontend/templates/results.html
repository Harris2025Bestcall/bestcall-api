<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Prediction Results - BestCall AI</title>
</head>
<body>
  <h1>Prediction Results for Client: {{ client_id }}</h1>

  <section>
    <h2>GPT Prediction</h2>
    {% if gpt_prediction.error %}
      <p style="color: red;">Error: {{ gpt_prediction.error }}</p>
    {% else %}
      <pre>{{ gpt_prediction | tojson(indent=2) }}</pre>
    {% endif %}
  </section>

  <section>
    <h2>Machine Learning Prediction</h2>
    <pre>{{ ml_prediction | tojson(indent=2) }}</pre>
  </section>

  <section>
    <h2>Matched Vehicle</h2>
    {% if vehicle_match %}
      <pre>{{ vehicle_match | tojson(indent=2) }}</pre>
    {% else %}
      <p>No vehicle match found for this profile.</p>
    {% endif %}
  </section>

  <br />
  <button onclick="goBack()">â¬… Back to History</button>

  <script>
    const token = localStorage.getItem("access_token");
    if (!token) {
      alert("You're not logged in.");
      window.location.href = "/client/login";
    }

    function goBack() {
      window.location.href = "/client/history";
    }
  </script>
</body>
</html>
